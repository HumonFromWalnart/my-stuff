<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Check Global Weather</title>
</head>

<body>
    <div class="container">
        <div id="city"></div>
        <div id="temp"></div>
        <div id="tempStatus"></div>
        <div id="weather"></div>
        <div id="weatherStatus"></div>
        <div id="sky"></div>
        <div id="skyStatus"></div>
        <!-- <button onclick="show()" style="width:100px; height: 30px;">Get Weather</button> -->
        <div id="image-container"></div>
    </div>

    <style>
        body {
            display: flex;
            justify-content: center;
            background-color: black;
        }

        .container {
            margin-top: 120px;
        }

        #temp {
            width: 200px;
            font-size: 40px;
            color: cadetblue;
        }

        #city {
            color: rgb(173, 25, 55);
        }

        #weather {
            color: rgb(211, 146, 157);
        }

        #sky {
            color: rgb(53, 138, 141);
        }

        * {
            font-family: Impact, Haettenschweiler, sans-serif;
            font-size: 40px;
            margin: 0%;
        }
    </style>
    <script>
        const show = async (city) => {
            const show = await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${city}&units=metric&appid=0a9b1d70e2d449a7fcadd8c7ceaaade5`);
            const info = await show.json();
            const temp = info.main.temp;
            const weather = info.weather[0].main;
            const sky = info.weather[0].description;
            document.getElementById("city").innerHTML = `${city}`;
            document.getElementById("weather").innerHTML = `Weather : ${weather}`;
            document.getElementById("temp").innerHTML = `${temp}C`;
            document.getElementById("sky").innerHTML = `Sky : ${sky}`;
            console.log(info.main.temp);
            console.log(info);
            const tempStatus = document.createElement("p");
            document.getElementById("tempStatus").appendChild(tempStatus);


            const frozen = new Image(200, 100); frozen.src = "frozen-jonnhy.gif";

            const cool = new Image(200, 100); cool.src = "cool-day-pixel.gif";

            const brokenClouds = new Image(200, 100); brokenClouds.src = "broken-clouds.jpg";

            const cloudy = new Image(200, 150); cloudy.src = "cloudy-weather.gif"

            const fewClouds = new Image(200, 100); fewClouds.src = "few-clouds.gif"

            const scatteredClouds = new Image(200, 100); scatteredClouds.src = "scattered clouds.gif"

            const clear = new Image(200, 100); clear.src = "clear-sky-weather.jpg"

            const goodWeather = new Image(200, 100); goodWeather.src = "good-weather.gif"

            const warm = new Image(200, 100); warm.src = "warm-weather.gif"

            // const goodWeather = new Image(200, 100); goodWeather.src = "good-weather.gif"

            if (temp < -30) {
                tempStatus.innerHTML = "So Cold";
                document.getElementById("tempStatus").style.color = "darkblue";
                document.getElementById("temp").style.color = "darkblue";
                document.getElementById("tempStatus").appendChild(frozen);

            }
            if (temp < 0) {
                tempStatus.innerHTML = "Very Cold";
                document.getElementById("tempStatus").style.color = "darkblue";
                document.getElementById("temp").style.color = "darkblue";
                document.getElementById("tempStatus").appendChild(frozen);
            }
            if (temp < 10) {
                tempStatus.innerHTML = "Cold";
                document.getElementById("tempStatus").style.color = "darkblue";
                document.getElementById("temp").style.color = "darkblue";
                document.getElementById("tempStatus").appendChild(frozen);
            }
            if (temp > 10 && temp <= 20) {
                tempStatus.innerHTML = "Cool";
                document.getElementById("tempStatus").style.color = "blue";
                document.getElementById("temp").style.color = "blue";
                document.getElementById("tempStatus").appendChild(cool);
            }
            if (temp >= 20 && temp < 25) {
                tempStatus.innerHTML = "Warm";
                document.getElementById("tempStatus").style.color = "yellow";
                document.getElementById("temp").style.color = "yellow";
            }
            if (temp >= 25 && temp < 30) {
                tempStatus.innerHTML = "Kinda Hot";
                document.getElementById("tempStatus").style.color = "yellow";
                document.getElementById("temp").style.color = "yellow";
            }
            if (temp >= 30 & temp < 37) {
                tempStatus.innerHTML = "Hot";
                document.getElementById("tempStatus").style.color = "red";
                document.getElementById("temp").style.color = "red";
            }
            if (temp >= 30 & temp < 37) {
                tempStatus.innerHTML = "Hot";
                document.getElementById("tempStatus").style.color = "red";
                document.getElementById("temp").style.color = "red";
            }
            if (temp > 37 & temp < 48) {
                tempStatus.innerHTML = "So Hot";
                document.getElementById("tempStatus").style.color = "red";
                document.getElementById("temp").style.color = "red";
            }
            if (temp == 50) {
                tempStatus.innerHTML = "Extremely Hot";
                document.getElementById("tempStatus").style.color = "red";
                document.getElementById("temp").style.color = "red";
            }
            if (weather == 'Clouds') {
                document.getElementById("weatherStatus").appendChild(cloudy);
            }
            if (weather == 'Clear') {
                document.getElementById("weatherStatus").appendChild(goodWeather);
            }
            if (temp == 'Warm') {
                document.getElementById("tempStatus").appendChild(warm);
            }
            if (sky == 'broken clouds') {
                document.getElementById("skyStatus").appendChild(brokenClouds);
            }
            if (sky == 'few clouds') {
                document.getElementById("skyStatus").appendChild(fewClouds);
            }
            if (sky == 'scattered clouds') {
                document.getElementById("skyStatus").appendChild(scatteredClouds);
            }
            if (sky == 'clear sky') {
                document.getElementById("skyStatus").appendChild(clear);
            }
        };
        show("Taiwan");
    </script>
</body>

</html>